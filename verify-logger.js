"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const index_1 = require("./src/index");
// Mock Firestore
const mockCollectionAdd = async (data) => {
    console.log('Mock Firestore Add Called with:', JSON.stringify(data, null, 2));
    return Promise.resolve({ id: 'mock-doc-id' });
};
const mockDb = {
    collection: (path) => {
        console.log(`Getting collection: ${path}`);
        return {
            add: mockCollectionAdd,
        };
    },
};
async function runVerification() {
    console.log('--- Verifying logAuthEvent ---');
    await (0, index_1.logAuthEvent)(mockDb, {
        uid: 'test-user-123',
        appId: 'test-app',
        eventType: 'LOGIN',
        metadata: { ip: '127.0.0.1', userAgent: 'Mozilla/5.0' },
    });
    console.log('\n--- Verifying logSystemEvent ---');
    await (0, index_1.logSystemEvent)(mockDb, 'test-app', 'Stripe Webhook Received', 'INFO');
}
runVerification().catch(console.error);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyaWZ5LWxvZ2dlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZlcmlmeS1sb2dnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBMEU7QUFFMUUsaUJBQWlCO0FBQ2pCLE1BQU0saUJBQWlCLEdBQUcsS0FBSyxFQUFFLElBQVMsRUFBRSxFQUFFO0lBQzFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUUsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7QUFDbEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxNQUFNLEdBQWtCO0lBQzFCLFVBQVUsRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLElBQUksRUFBRSxDQUFDLENBQUM7UUFDM0MsT0FBTztZQUNILEdBQUcsRUFBRSxpQkFBaUI7U0FDekIsQ0FBQztJQUNOLENBQUM7Q0FDSixDQUFDO0FBRUYsS0FBSyxVQUFVLGVBQWU7SUFDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sSUFBQSxvQkFBWSxFQUFDLE1BQU0sRUFBRTtRQUN2QixHQUFHLEVBQUUsZUFBZTtRQUNwQixLQUFLLEVBQUUsVUFBVTtRQUNqQixTQUFTLEVBQUUsT0FBTztRQUNsQixRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUU7S0FDMUQsQ0FBQyxDQUFDO0lBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO0lBQ2xELE1BQU0sSUFBQSxzQkFBYyxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDaEYsQ0FBQztBQUVELGVBQWUsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dBdXRoRXZlbnQsIGxvZ1N5c3RlbUV2ZW50LCBGaXJlc3RvcmVMaWtlIH0gZnJvbSAnLi9zcmMvaW5kZXgnO1xuXG4vLyBNb2NrIEZpcmVzdG9yZVxuY29uc3QgbW9ja0NvbGxlY3Rpb25BZGQgPSBhc3luYyAoZGF0YTogYW55KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ01vY2sgRmlyZXN0b3JlIEFkZCBDYWxsZWQgd2l0aDonLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGlkOiAnbW9jay1kb2MtaWQnIH0pO1xufTtcblxuY29uc3QgbW9ja0RiOiBGaXJlc3RvcmVMaWtlID0ge1xuICAgIGNvbGxlY3Rpb246IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEdldHRpbmcgY29sbGVjdGlvbjogJHtwYXRofWApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkOiBtb2NrQ29sbGVjdGlvbkFkZCxcbiAgICAgICAgfTtcbiAgICB9LFxufTtcblxuYXN5bmMgZnVuY3Rpb24gcnVuVmVyaWZpY2F0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCctLS0gVmVyaWZ5aW5nIGxvZ0F1dGhFdmVudCAtLS0nKTtcbiAgICBhd2FpdCBsb2dBdXRoRXZlbnQobW9ja0RiLCB7XG4gICAgICAgIHVpZDogJ3Rlc3QtdXNlci0xMjMnLFxuICAgICAgICBhcHBJZDogJ3Rlc3QtYXBwJyxcbiAgICAgICAgZXZlbnRUeXBlOiAnTE9HSU4nLFxuICAgICAgICBtZXRhZGF0YTogeyBpcDogJzEyNy4wLjAuMScsIHVzZXJBZ2VudDogJ01vemlsbGEvNS4wJyB9LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ1xcbi0tLSBWZXJpZnlpbmcgbG9nU3lzdGVtRXZlbnQgLS0tJyk7XG4gICAgYXdhaXQgbG9nU3lzdGVtRXZlbnQobW9ja0RiLCAndGVzdC1hcHAnLCAnU3RyaXBlIFdlYmhvb2sgUmVjZWl2ZWQnLCAnSU5GTycpO1xufVxuXG5ydW5WZXJpZmljYXRpb24oKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiJdfQ==